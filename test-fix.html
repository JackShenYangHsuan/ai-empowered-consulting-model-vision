<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Test Fix - Create Agent Function</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
        }
        .status {
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            margin: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>üîß Create Agent Function Test</h1>
    
    <div id="status"></div>
    
    <button onclick="testFunction()">Test if createAgent exists</button>
    <button onclick="window.location.href='agent-create.html'">Go to Agent Create Page</button>
    <button onclick="clearCacheAndGo()">Clear Cache & Go to Agent Page</button>
    
    <h2>Instructions:</h2>
    <ol>
        <li>Click "Test if createAgent exists"</li>
        <li>If it says NOT FOUND, do a hard refresh: <strong>Cmd+Shift+R</strong> (Mac) or <strong>Ctrl+Shift+R</strong> (Windows)</li>
        <li>Click "Clear Cache & Go to Agent Page"</li>
    </ol>

    <!-- Load the same scripts as agent-create.html -->
    <script defer src="https://www.gstatic.com/firebasejs/10.13.1/firebase-app-compat.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore-compat.js"></script>
    <script defer src="firebase-config.js?v=1762159951"></script>
    <script defer src="agent-create.js?v=1762159951"></script>
    
    <script>
        function testFunction() {
            const status = document.getElementById('status');
            
            if (typeof window.createAgent === 'function') {
                status.className = 'status success';
                status.innerHTML = '‚úÖ SUCCESS! createAgent function is available and ready to use!<br>Type: ' + typeof window.createAgent;
            } else {
                status.className = 'status error';
                status.innerHTML = '‚ùå ERROR! createAgent function NOT FOUND!<br>Type: ' + typeof window.createAgent + '<br><br><strong>Solution:</strong> Hard refresh this page (Cmd+Shift+R or Ctrl+Shift+R)';
            }
        }
        
        function clearCacheAndGo() {
            // Add timestamp to force reload
            window.location.href = 'agent-create.html?nocache=' + Date.now();
        }
        
        // Auto-test on load
        window.addEventListener('load', function() {
            setTimeout(testFunction, 1500);
        });
    </script>
</body>
</html>
